!function(){"use strict";function e(e,t,r=100){const a=()=>{const r=document.querySelector(t);if(!r)return console.error(`Container not found: "${t}"`),!1;const a=r.querySelectorAll(e);if(!a.length)return console.error(`Elements not found: "${e}"`),!1;let s=0;return a.forEach((e=>{e.style.height="auto",s=Math.max(s,e.offsetHeight)})),a.forEach((e=>e.style.height=`${s}px`)),!0};let s;a(),window.addEventListener("resize",(()=>{clearTimeout(s),s=setTimeout(a,r)}))}document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelectorAll("[data-da]");function t(){e.forEach((e=>{if(!e._originalData){const t=e.parentElement,r=Array.from(t.children).indexOf(e);e._originalData={parent:t,index:r,nextSibling:t.children[r+1]||null}}const{parent:t,index:r,nextSibling:a}=e._originalData,[s,n]=e.getAttribute("data-da").split("|"),o=document.querySelector(s);if(!o||!t)return void console.error("Родитель не найден!");const i=window.innerWidth<parseInt(n),l=e.parentNode===o;i&&!l?o.appendChild(e):!i&&l&&(a&&a.parentNode===t?t.insertBefore(e,a):t.appendChild(e))}))}let r;t(),window.addEventListener("resize",(()=>{clearTimeout(r),r=setTimeout(t,100)}))}(),e(".card-infrastructure__info","#location"),e(".card-infrastructure__info","#think"),e(".card-infrastructure__info","#yard"),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),r=document.querySelector(t);r&&r.scrollIntoView({behavior:"smooth",block:"start"})}))}));const t=document.getElementById("burger"),r=document.getElementById("sidebar"),a=document.getElementById("nav-sidebar");t.addEventListener("click",(function(){this.classList.toggle("_active"),r.classList.toggle("_active"),document.body.classList.toggle("_scroll-hidden")}));const s=a.querySelectorAll(".nav-sidebar__item-link"),n=document.querySelector(".contacts-sidebar__callback");s.forEach((function(e){e.addEventListener("click",(function(){t.classList.remove("_active"),r.classList.remove("_active"),document.body.classList.remove("_scroll-hidden")}))})),n.addEventListener("click",(()=>{t.classList.remove("_active"),r.classList.remove("_active"),document.body.classList.remove("_scroll-hidden")}));const o=document.querySelectorAll(".tabs-infrastructure__nav-btn"),i=document.querySelectorAll(".tabs-infrastructure__slide");o.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");o.forEach((e=>e.classList.remove("_active"))),i.forEach((e=>e.classList.remove("_active"))),e.classList.add("_active"),document.getElementById(t).classList.add("_active")}))}));const l=document.querySelector(".tabs-layouts__nav"),c=l.querySelectorAll(".tabs-layouts__nav-btn"),d=document.querySelector("#slider-layouts"),u=new Swiper(d,{slidesPerView:"1",spaceBetween:100,navigation:{nextEl:".tabs-layouts__arrows-arrow.tabs-layouts__arrows-arrow--next",prevEl:".tabs-layouts__arrows-arrow.tabs-layouts__arrows-arrow--prev"},on:{init:function(){this.slides.forEach(((e,t)=>{e.setAttribute("data-swiper-index",t)}))},slideChangeTransitionEnd:function(){!function(){const e=d.querySelector(".swiper-slide-active").getAttribute("data-layout-type");e!==l.querySelector(".tabs-layouts__nav-btn._active").getAttribute("data-layout-type")&&(c.forEach((e=>{e.classList.remove("_active")})),l.querySelector(`[data-layout-type="${e}"]`).classList.add("_active"))}()}}});c.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-layout-type"),r=d.querySelector(`[data-layout-type="${t}"]`).getAttribute("data-swiper-index");u.slideTo(r,1e3),c.forEach((e=>{e.classList.remove("_active")})),e.classList.add("_active")}))})),document.querySelector("#slider-gallery")&&new Swiper("#slider-gallery",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:10,loop:!0,navigation:{nextEl:".gallery__arrows-arrow.gallery__arrows-arrow--next",prevEl:".gallery__arrows-arrow.gallery__arrows-arrow--prev"},scrollbar:{el:".gallery__bar"}});const _=document.querySelector(".tabs-progress__nav"),v=_.querySelectorAll(".tabs-progress__nav-btn"),f=document.querySelector("#slider-progress"),y=new Swiper(f,{slidesPerView:"auto",spaceBetween:32,navigation:{nextEl:".tabs-progress__arrows-arrow.tabs-progress__arrows-arrow--next",prevEl:".tabs-progress__arrows-arrow.tabs-progress__arrows-arrow--prev"},scrollbar:{el:".tabs-progress__footer-bar"},on:{init:function(){this.slides.forEach(((e,t)=>{e.setAttribute("data-swiper-index",t)}))},slideChangeTransitionEnd:function(){!function(){const e=f.querySelector(".swiper-slide-active").getAttribute("data-progress-type");e!==_.querySelector(".tabs-progress__nav-btn._active").getAttribute("data-progress-type")&&(v.forEach((e=>{e.classList.remove("_active")})),_.querySelector(`[data-progress-type="${e}"]`).classList.add("_active"))}()}}});v.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-progress-type"),r=f.querySelector(`[data-progress-type="${t}"]`).getAttribute("data-swiper-index");y.slideTo(r,1e3),v.forEach((e=>{e.classList.remove("_active")})),e.classList.add("_active")}))}));const g=document.getElementById("consultation-form"),m=document.getElementById("name"),p=document.getElementById("phone");let b="",h=!0,E=!0;function w(e,t="Fill in the field"){""===e.value.trim()&&(h=!1,S(e,t))}function L(e,t){""===t?(S(e,"Please fill in the field"),E=!1):/^(\+7|8)[\s-]?\(?\d{3}\)?[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}$/.test(t)||(S(e,"Enter the phone number in the format +7 (___) ___-__-__"),E=!1)}function S(e,t){const r=document.createElement("span");r.textContent=t,r.className="_error",e.parentElement.appendChild(r),e.classList.add("_error")}function q(e){const t=e.parentElement;e.classList.remove("_error"),h=!0,E=!0,t.querySelector("._error")&&t.removeChild(t.querySelector("._error"))}m.addEventListener("blur",(()=>{w(m,"Please fill in the field")})),m.addEventListener("focus",(()=>{q(m)})),p.addEventListener("blur",(()=>{L(p,b)})),p.addEventListener("focus",(()=>{q(p)})),p.addEventListener("input",(function(e){let t=this.value.replace(/\D/g,"");t.startsWith("7")&&(t=t.substring(1));let r="+7";t.length>0&&(r+=` (${t.substring(0,3)}`),t.length>3&&(r+=`) ${t.substring(3,6)}`),t.length>6&&(r+=`-${t.substring(6,8)}`),t.length>8&&(r+=`-${t.substring(8,10)}`),this.value=r,b=r})),g.addEventListener("submit",(function(e){e.preventDefault(),q(m),q(p),w(m,"Please fill in the field"),L(p,b),h&&E&&(g.classList.add("_hide"),document.querySelector(".consultation__form-consent-text").classList.add("_hide"),document.querySelector(".consultation__form-callback-text").classList.add("_active"))}))}))}();